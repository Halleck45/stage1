TODO URGENT
===========

* all symfony commands need to be run with --env=prod in production
* probleme avec les websockets (url websocket hardcodee sur http://stage1/)
* probleme avec font-awesome (fixed in next deploy)
* url des builds est hardcoded sur http://stage1:$PORT/
* build failed: 2013/08/10 06:40:21 Unable to set up networking: ip failed: ip route add default via 172.17.42.1 (see https://github.com/dotcloud/docker/pull/1374)
* buildapp failure still not catched

* integrer hipache
* ajouter la gestion de doctrine dans le build par defaut
* OU ajouter un fichier de conf de build genre .stage1.yml dans lequel on puisse enquiller des commandes de build
* ajouter un mail genre "votre inscription sur stage1.io coucou"
* faire la conf monit 

TODO
====

* test
    * test repositories belonging to an organisation the user belongs to
    * test private repositories

* dashboard
    * list of running instances grouped by project and order by project.last_build_id

* builds
    * the build process must be completely error/fool proof
    * make the symfony builder a bit more clever
        * things that should work ootb
            * doctrine orm/odm
            * doctrine/alice fixtures
            * mysql/pgsql
            * mongodb/couchdb
            * redis/memcached
    * disallow scheduling a build if a running instance for the same hash exists
    * log build time
    * log trigger source (manual / push)
    * being able to require authentication for accessing instances
    * disable auto log scroll when manually scrolled
    * before build: check that the app is actually building (eg: there is a composer.json)
    * branches list should show current running instance
    * before starting a build, check the required docker image is present

* projects
    * allow per-project docker image selection
        This should not be in the UI, it's an admin (as in, me) only feature for now
        This will be used for non-symfony alpha testers and to PoC the per-project-image thingy
    * import should make ajax queries to stage1 instead of directly querying github
    * last_build_at + last_build_ref (last_build_id ?)

* admin
    * monitor all running docker container
    * ability to kill / top any running docker container
    * manually schedule builds for any project/branch

* misc UI
    * show useful indicators of what's happening in the title bar when the window is out of focus
    * all "stateful buttons" should present an option to "retry" when failed
    * timeout long running ajax queries with a message like "uhoh, this is taking longer than expected"
    * pre-disabled buttons should change to enabled state when needed (through websockets events eg)

GITHUB ENTERPRISE
=================

A problem will be github's API rate limit and composer, because the access token we have is not a valid github.com access token (it's a github enterprise token). So we have two, maybe three, solutions:

1. acquire a github.com application token specific to this stage1 instance
2. acquire a github.com through the user
3. bundle the VM with an installation of satis

THE DISTANT FUTURE
==================

* builds
    * log queue time
    * separate builds and jobs
    * "build now", premium option to bypass all queuing rules and have your project built now, as in, NOW.
    * add option to specify a build script
        * SECURITY WARNING
    * Support for build systems like make, ant, phing, etc

* instances
    * add a (disablable) top frame indicating what project / branch you're currently browsing
    * allow shutting down / restarting a running instance

* projects
    * allow project creation through build poke (?)
    * autodetect new projects 
        run periodic background checks to the user's github account for new importable projects
    * symfony
        * allow env selection (dev / prod)
    * allow non-github projects (?)

* bi-directionnal communication
    * update web ui accordingly for the following events
        * new project (detected through a build poke)

* images
    * premium option to allow a user to build his own docker image and then assign it to his projects

* misc
    * pusher private channels to receive push notif about your projects' builds